# INSTALLATION PROCESS
# pip install -I pipenv
# pipenv run pip install setuptools"<58"
# pipenv install --dev

[[source]]
url = "https://pypi.org/simple"
verify_ssl = true
name = "pypi"

[packages]
setuptools = "<58"
wheel = "==0.35.1"
tzlocal = "==2.1"   # https://github.com/agronholm/apscheduler/discussions/570#discussioncomment-1562516
unleashclient = "==5.1.2"
pyyaml = "==5.1"
ipython = "==8.0"
lxml = "==4.6.2"
html5lib = "==1.0.1"
urllib3 = "==1.26.14"
cython = "==0.29.21"
gunicorn = "==19.9.0"
psycopg2-binary = "==2.8.6"
falcon = "==3.0.1"
jsonschema = "<3.0"
click = "==8.0.1"
werkzeug = "==0.15.6"
hypercorn = "==0.5.4"
flatdict = "==3.1.0"
dpath = "==1.5"
marshmallow = "==3.9.1"
apispec = "==1.3.3"
webargs = "==5.3.1"
pyjwt = "==1.7.1"
fleep = "==1.0.1"
querystring-parser = "==1.2.3"
python-magic = "==0.4.15"
argon2-cffi = "==19.1.0"
pillow = "==7.1.0"
rules = "==2.0"
beautifulsoup4 = "<4.9,>=4.8"
bs4 = "==0.0.1"
fire = "==0.1.3"
celery = "==5.0.2"
ezodf = "==0.3.2"
elasticsearch-dsl = ">=6.4.0,<7.0.0"
docutils = "==0.15.2"
boto3 = "==1.26.47"
tableschema = "==1.20.1"
tabulator = "==1.51.3"
datapackage = "==1.15.2"
goodtables = {version = "==2.1.4", extras = ["ods"]}
tqdm = "==4.63.0"
deepdiff = "==3.3.0"
pygments = ">=2.4.1"
passlib = "==1.7.1"
markdown2 = "==2.3.5"
marshmallow-jsonapi = "==0.24.0"
json-api-doc = "==0.7.0"
astroid = "==2.4.2"
openapi-spec-validator = "==0.2.9"
openapi-core = "==0.7.1"
gevent = "==22.10.2"
phonenumbers = "==8.10.5"
django = "==2.2.9"
django-constance = {version = "==2.8.0", extras = ["database"]}
django-elasticsearch-dsl = "==6.4.2"
django-redis = "==5.0.0"
django-suit = {editable = true, git = "https://gitlab.dane.gov.pl/pub/django-suit.git"}
django-model-utils = "==4.2.0"
django-localflavor = "==3.1"
django-environ = "==0.8.1"
django-ckeditor = "==6.2.0"
django-nested-admin = "==3.4.0"
django-autocomplete-light = "==3.9.1"
django-admin-rangefilter = "==0.3.12"
dal-admin-filters = "==1.1.0"
django-celery-results = "==2.2.0"
django-celery-beat = "==2.2.1"
django-cache-memoize = "==0.1.10"
django-tqdm = "==0.0.3"
django-modeltrans = "==0.7.2"
dj-database-url = "==0.5.0"
django-vault-helpers = "==0.8.0"
changelog-cli = "==0.6.2"
libarchive-c = "==2.8"
elastic-apm = "==6.0.0"
pyproj = "==3.0.0.post1"
python-logstash = "==0.4.6"
python-mimeparse = "==1.6.0"
pyshacl = "==0.18.1"
pyshp = "==2.1.0"
more-itertools = "==7.2.0"
wagtail = "==2.13.5"
wand = "==0.5.7"
hypereditor = {path = "./hypereditor-0.1.0-py3-none-any.whl"}
python-dateutil = "==2.8.1"
xmlschema = "==1.0.16"
celery-progress = "==0.0.14"
celery-singleton = "==0.3.1"
tox = "*"
xlsxwriter = "==1.2.9"
accept-types = "==0.4.1"
pyparsing = "==2.4.7"
rdflib-jsonld = "==0.5.0"
rdflib = "==6.1.1"
channels = "==2.4.0"
jinja2 = "==3.0.3"
panel = "==0.12.4"
hvplot = "==0.7.2"
pandas = "<1.3" # https://github.com/holoviz/holoviews/issues/5009
holoviews = "==1.14.8"
django-extensions = "==3.1.5"
jupyter = "==1.0.0"
jupyter-client = "==7.2.0"
jupyter-console = "==6.6.3"
jupyter-server = "==1.24.0"
debugpy = "*"
django-notifications-hq = "==1.7.0"
django-admin-multiple-choice-list-filter = "==0.1.1"
falcon-caching = "==0.3.3"
# For chart thumbnails
selenium = "<5.0.0,>=4.0.0"
phantomjs = "==1.3.0"
user-agents = "==2.2.0"
ua-parser = "==0.10.0"
pydiscourse = "==1.1.2"
cchardet = "==2.1.7"
discourse-django-sso = "==0.9.2"
django-admin-confirm = "==0.2.3"
bokeh = "==2.4.2"
falcon-limiter = "==0.1.2"
dicttoxml = "==1.7.4"
csvwlib = "==0.3.2"
django-fancy-cache = "==1.1.0"
tifffile = "*"
django-auditlog = "==1.0.0"
netcdf4 = "==1.5.7"
cachier = "==1.5.4"
wagtailvideos = "==2.10.9"
rarfile = "==4.0"
py7zr = "==0.18.5"
sentry-sdk = {version = "==1.6.0", extras = ["falcon"]}
numpy = "==1.23.0"
fake-useragent = "==1.3.0"

[dev-packages]
flake8 = "*"
coverage = "*"
werkzeug = "==0.15.6"
pytest = "==6.2.5"
pytest-django = "*"
pytest-ordering = "*"
pytest-factoryboy = "*"
pytest-mock = "*"
namedlist = "*"
pytest-selenium = "*"
pytest-bdd = "==5.0.0"
pytest-localserver = "*"
pytest-xdist = "==1.32.0"
requests-mock = "==1.7.0"
factory-boy = "==2.12.0"
pytest-cov = "==2.11.1"
pep8 = "*"
autopep8 = "*"
pylint = "*"
jedi = "==0.16.0"
pre-commit = "*"

[requires]
python_version = "3.8"

[scripts]
services_up = "docker compose up"
init_mcod_db = "python manage.py init_mcod_db"
reindex = "python manage.py search_index --rebuild -f"
validate_resources = "python manage.py validate_resources --async"
component_admin_panel_up = "python manage.py runserver 0:8001"
component_api_up = "python -m werkzeug.serving --bind 0:8000 --reload --debug mcod.api:app"
component_cms_up = "sh -c 'COMPONENT=cms python manage.py runserver 0:8002'"
component_celery_up = "sh -c 'COMPONENT=celery python -m celery --app=mcod.celeryapp:app worker -l DEBUG -E -Q default,resources,indexing,periodic,newsletter,notifications,search_history,watchers,harvester,indexing_data'"
tests = "tox"
